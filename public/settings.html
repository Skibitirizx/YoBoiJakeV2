<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - YoBoiJake</title>
  <link rel="manifest" href="/manifest.json"/>
  <link rel="icon" type="image/png" href="/assets/images/logo.png">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <header>
    <img src="/assets/images/logo.png" alt="YoBoiJake Logo">
    <span id="logo-name">YoBoiJake</span>
    <nav>
      <a href="/">Home</a>
      <a href="/games.html">Games</a>
      <a href="/search.html">Search</a>
      <a href="/settings.html">Settings</a>
    </nav>
  </header>

  <main id="settings-content">
    <h1>Settings</h1>
    <section>
      <h2>Panic Key</h2>
      <form id="panic-key-form">
        <label for="panic-key">Enter a panic key (single character):</label>
        <input type="text" id="panic-key" maxlength="1" placeholder="e.g., P" required>
        <button type="submit">Save Panic Key</button>
      </form>
      <p id="panic-key-feedback" style="color: green; display: none;">Panic key saved successfully!</p>
    </section>
  </main>

  <script>
    // Save panic key to localStorage
    const form = document.getElementById('panic-key-form');
    const feedback = document.getElementById('panic-key-feedback');

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      const key = document.getElementById('panic-key').value.trim();
      if (key) {
        localStorage.setItem('panicKey', key.toUpperCase());
        feedback.style.display = 'block';
        setTimeout(() => feedback.style.display = 'none', 3000);
      }
    });

    // Load the panic key from localStorage
    document.addEventListener('DOMContentLoaded', function () {
      const savedKey = localStorage.getItem('panicKey');
      if (savedKey) {
        document.getElementById('panic-key').value = savedKey;
      }
    });
  </script>
  <script>
  document.addEventListener('keydown', function (e) {
    const panicKey = localStorage.getItem('panicKey');
    if (panicKey && e.key.toUpperCase() === panicKey) {
      window.location.href = 'https://classroom.google.com';
    }
  });
</script>
</body>
</html>
